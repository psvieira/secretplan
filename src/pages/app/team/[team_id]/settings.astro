
---
import Layout from '@layouts/LayoutApp.astro'
import HamburgerMenuButton from '@components/app/HamburgerMenuButton.astro'
import { getTeam } from '@data/pocketbase'
import TeamMembers from '@components/app/teams/TeamMembers.astro'

const { team_id = '' } = Astro.params

let team = await getTeam(team_id)

if (!team) {
  return Astro.redirect('/app/dashboard')
}
---

<Layout>
  <div class='mx-auto max-w-7xl'>
    <div
      class='rounded-lg bg-zinc-900 px-5 py-4 sm:py-2.5 text-xl sm:text-2xl md:text-3xl text-white uppercase text-center font-rounded font-extrabold'>
      <div class='sm:hidden'>
        <HamburgerMenuButton />
      </div>
      Team settings
    </div>

    <div
      class='flex items-center justify-between mx-auto max-w-7xl'>
      <a href={`/app/team/${team_id}`}>
        <button
          type='button'
          class='text-xl btn-header text-zinc-800 dark:text-white mt-3'>
          ◀︎ Back to the team
        </button>
      </a>
    </div>
  </div>

  <div
    class='pb-10 pl-4 mx-auto text-white max-w-7xl sm:pl-6 lg:pl-8 p-10 mt-10 rounded-lg shadow dark:text-white bg-zinc-100 dark:bg-zinc-800'>
    	<TeamMembers team={team} />
  </div>
</Layout>